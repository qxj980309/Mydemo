package com.example.demo.myself.common.config;

public class JsonPropertySourceLoader  {
//    implements
//} PropertySourceLoader {
//    @Override
//    public String[] getFileExtensions() {
//        return new String[]{"json", "json5"};
//    }
//
//    @Override
//    public List<PropertySource<?>> load(String name, Resource resource) throws IOException {
//        try (final InputStream inputStream = resource.getInputStream()) {
//            // application.json 的内容读取到字符串 jsonString 中
//            final String jsonString = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);
//            // 将 jsonString 字符串转为  Map
//            final Map<String, Object> map = JsonFlattener.flattenAsMap(jsonString);
//            // 从 Map 构建一个 PropertySource
//            final MapPropertySource propertySource = new MapPropertySource(name, map);
//            return List.of(propertySource);
//        }
//    }
}
